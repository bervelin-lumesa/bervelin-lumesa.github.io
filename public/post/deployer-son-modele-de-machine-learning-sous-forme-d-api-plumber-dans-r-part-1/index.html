<!doctype html>
<!-- This site was created with Hugo Blox. https://hugoblox.com -->
<!-- Last Published: October 23, 2024 --><html lang="en-us" dir="ltr"
      data-wc-theme-default="system">
  
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=4321&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="Hugo Blox Builder 0.2.0" />

  
  












  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Bervelin Lumesa" />

  
  
  
    
  
  <meta name="description" content="Mbote!
Introduction Dans cet article, nous allons explorer comment déployer un modèle de machine learning sous forme d&rsquo;API à l&rsquo;aide de plumber, un package R simple et puissant. De plus en plus de projets de machine learning passent de simples expérimentations en laboratoire à des solutions robustes et prêtes pour la production." />

  
  <link rel="alternate" hreflang="en-us" href="http://localhost:4321/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/" />

  
  
  
  
    
    <link rel="stylesheet" href="/css/themes/emerald.min.css" />
  

  
  
    
    <link href="/dist/wc.min.css" rel="stylesheet" />
  

  
  
  

  

  <script>
     
    window.hbb = {
       defaultTheme: document.documentElement.dataset.wcThemeDefault,
       setDarkTheme: () => {
        document.documentElement.classList.add("dark");
        document.documentElement.style.colorScheme = "dark";
      },
       setLightTheme: () => {
        document.documentElement.classList.remove("dark");
        document.documentElement.style.colorScheme = "light";
      }
    }

    console.debug(`Default Hugo Blox Builder theme is ${window.hbb.defaultTheme}`);

    if ("wc-color-theme" in localStorage) {
      localStorage.getItem("wc-color-theme") === "dark" ? window.hbb.setDarkTheme() : window.hbb.setLightTheme();
    } else {
      window.hbb.defaultTheme === "dark" ? window.hbb.setDarkTheme() : window.hbb.setLightTheme();
      if (window.hbb.defaultTheme === "system") {
        window.matchMedia("(prefers-color-scheme: dark)").matches ? window.hbb.setDarkTheme() : window.hbb.setLightTheme();
      }
    }
  </script>

  <script>
    
    document.addEventListener('DOMContentLoaded', function () {
      
      let checkboxes = document.querySelectorAll('li input[type=\'checkbox\'][disabled]');
      checkboxes.forEach(e => {
        e.parentElement.parentElement.classList.add('task-list');
      });

      
      const liNodes = document.querySelectorAll('.task-list li');
      liNodes.forEach(nodes => {
        let textNodes = Array.from(nodes.childNodes).filter(node => node.nodeType === 3 && node.textContent.trim().length > 1);
        if (textNodes.length > 0) {
          const span = document.createElement('label');
          textNodes[0].after(span);  
          span.appendChild(nodes.querySelector('input[type=\'checkbox\']'));
          span.appendChild(textNodes[0]);
        }
      });
    });
  </script>

  
  
  




































  
  

  
  <link rel="icon" type="image/png" href="/media/icon_hu11606901464925071373.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu15813221836792757126.png" />

  <link rel="canonical" href="http://localhost:4321/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@GetResearchDev" />
    <meta property="twitter:creator" content="@GetResearchDev" />
  
  <meta property="og:site_name" content="Bervelin Lumesa" />
  <meta property="og:url" content="http://localhost:4321/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/" />
  <meta property="og:title" content="Déployer son modèle de Machine Learning sous forme d&#39;API plumber dans R : Part. 1 | Bervelin Lumesa" />
  <meta property="og:description" content="Mbote!
Introduction Dans cet article, nous allons explorer comment déployer un modèle de machine learning sous forme d&rsquo;API à l&rsquo;aide de plumber, un package R simple et puissant. De plus en plus de projets de machine learning passent de simples expérimentations en laboratoire à des solutions robustes et prêtes pour la production." /><meta property="og:image" content="http://localhost:4321/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/featured.png" />
    <meta property="twitter:image" content="http://localhost:4321/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/featured.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2024-10-23T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2024-10-23T00:00:00&#43;00:00">
  

  



  


  <title>Déployer son modèle de Machine Learning sous forme d&#39;API plumber dans R : Part. 1 | Bervelin Lumesa</title>

  
  
  
  
  
    
    
  
  
  <style>
    @font-face {
      font-family: 'Inter var';
      font-style: normal;
      font-weight: 100 900;
      font-display: swap;
      src: url(/dist/font/Inter.var.woff2) format(woff2);
    }
  </style>

  

  
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
  
  
  
  
  
  
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
  
  
  
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
  
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
        
        
          
        
          
        
          
        
          
        
          
        
        
        
      
    
      
      
    
  
  
  
  
  
  
  
  
  
  
  
  







<link type="text/css" rel="stylesheet" href="/dist/pagefind/pagefind-ui.be766eb419317a14ec769d216e9779bfe8f3737c80e780f4ba0dafb57a41a482.css" integrity="sha256-vnZutBkxehTsdp0hbpd5v&#43;jzc3yA54D0ug2vtXpBpII=" />


<script src="/dist/pagefind/pagefind-ui.87693d7c6f2b3b347ce359d0ede762c033419f0a32b22ce508c335a81d841f1b.js" integrity="sha256-h2k9fG8rOzR841nQ7ediwDNBnwoysizlCMM1qB2EHxs="></script>


<script>window.hbb.pagefind = {"baseUrl":"/"};</script>

<style>
  html.dark {
    --pagefind-ui-primary: #eeeeee;
    --pagefind-ui-text: #eeeeee;
    --pagefind-ui-background: #152028;
    --pagefind-ui-border: #152028;
    --pagefind-ui-tag: #152028;
  }
</style>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    new PagefindUI({
      element: "#search",
      showSubResults: true,
      baseUrl: window.hbb.pagefind.baseUrl,
      bundlePath: window.hbb.pagefind.baseUrl + "pagefind/",
    });
  });
  document.addEventListener('DOMContentLoaded', () => {
    let element = document.getElementById('search');
    let trigger = document.getElementById('search_toggle');

    if (trigger) {
      trigger.addEventListener('click', () => {
        element.classList.toggle('hidden');
        element.querySelector("input").value = ""
        element.querySelector("input").focus()

        if (!element.classList.contains('hidden')) {
          let clear_trigger = document.querySelector('.pagefind-ui__search-clear');

          if (clear_trigger && !clear_trigger.hasAttribute('listenerOnClick')) {
            clear_trigger.setAttribute('listenerOnClick', 'true');

            clear_trigger.addEventListener('click', () => {
              element.classList.toggle('hidden');
            });
          }
        }

      });
    }
  });
</script>















  
  
  
  
  
  
  
  <script
    defer
    src="/js/hugo-blox-en.min.js"
    integrity=""
  ></script>

  
  











</head>

  <body class="dark:bg-hb-dark dark:text-white page-wrapper" id="top">
    <div id="page-bg"></div>
    <div class="page-header sticky top-0 z-30">
      
      
      
        
        
        
          <header id="site-header" class="header">
  <nav class="navbar px-3 flex justify-left">
    <div class="order-0 h-100">
      
      <a class="navbar-brand" href="/" title="Bervelin Lumesa">
        Bervelin Lumesa
      </a>
    </div>
    
    <input id="nav-toggle" type="checkbox" class="hidden" />
    <label
      for="nav-toggle"
      class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1">
      <svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20">
        <title>Open Menu</title>
        <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
      </svg>
      <svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20">
        <title>Close Menu</title>
        <polygon
          points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
          transform="rotate(45 10 10)"></polygon>
      </svg>
    </label>
    

    
    
    <ul
      id="nav-menu"
      class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8 justify-left
      ">
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/"
        >Bio</a
        >
      </li>
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/#news"
        >Blog</a
        >
      </li>
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/experience/"
        >Experience</a
        >
      </li>
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/projects/"
        >Projets</a
        >
      </li>
      
      
      
      
      
      
      <li class="nav-item">
        <a
          class="nav-link "
          
          href="/teaching/"
        >Formations</a
        >
      </li>
      
      
      
    </ul>

    <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0">

      
      
      
      <button
        aria-label="search"
        class="text-black hover:text-primary  inline-block px-3 text-xl dark:text-white"
        id="search_toggle">
        <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512" fill="currentColor"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
      </button>
      

      
      
      <div class="px-3 text-black hover:text-primary-700 dark:text-white dark:hover:text-primary-300
            [&.active]:font-bold [&.active]:text-black/90 dark:[&.active]:text-white">
        <button class="theme-toggle mt-1" accesskey="t" title="appearance">
          <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
               fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
               stroke-linejoin="round" class="dark:hidden">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
          <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
               fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
               stroke-linejoin="round" class=" dark:block [&:not(dark)]:hidden">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
        </button>
      </div>
      

      
      

      
      
    </div>
  </nav>
</header>


<div id="search" class="hidden p-3"></div>


        
      
    </div>
    <div class="page-body  my-10">
      





<div class="mx-auto flex max-w-screen-xl">
  



<aside class="hb-sidebar-container max-lg:[transform:translate3d(0,-100%,0)] lg:hidden xl:block">
  
  <div class="px-4 pt-4 lg:hidden">
    
    
  </div>
  <div class="hb-scrollbar lg:h-[calc(100vh-var(--navbar-height))]">
    <ul class="flex flex-col gap-1 lg:hidden">
      
      
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/event/"
    
  >Recent &amp; Upcoming Talks
        <span data-hb-sidebar-toggle>
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg>
        </span>
    </a><div class="ltr:pr-0 overflow-hidden">
        <ul class="hb-sidebar-list"><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/event/example/"
    
  >Example Talk
    </a>
              
            </li></ul>
      </div></li>
        <li class="open"><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/post/"
    
  >Blog
        <span data-hb-sidebar-toggle>
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg>
        </span>
    </a><div class="ltr:pr-0 overflow-hidden">
        <ul class="hb-sidebar-list"><li class="flex flex-col open"><a
    class="hb-sidebar-custom-link
      sidebar-active-item bg-primary-100 font-semibold text-primary-800 dark:bg-primary-300 dark:text-primary-900"
    href="/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/"
    
  >Déployer son modèle de Machine Learning sous forme d&#39;API plumber dans R : Part. 1
    </a>
  
    <ul class="hb-sidebar-mobile-toc"><li>
              <a
                href="#introduction"
                class="hb-docs-link"
              >Introduction</a>
            </li>
          <li>
              <a
                href="#cest-quoi-une-api"
                class="hb-docs-link"
              >C&amp;rsquo;est quoi une API</a>
            </li>
          <li>
              <a
                href="#cr%c3%a9ation-dune-api-avec-plumber"
                class="hb-docs-link"
              >Création d&amp;rsquo;une API avec plumber</a>
            </li>
          </ul>
  
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/post/monitoring-de-la-collecte-de-donn-es-d-une-enqu-te-statistique/"
    
  >Monitoring de la collecte de données d&#39;une enquête statistique
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/post/collecte-de-donn-es-mobile-partage-d-exp-rience/"
    
  >Collecte de données mobile : Partage d&#39;Expérience
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/post/10-librairies-les-plus-utilis-es-en-python-pour-la-data-science/"
    
  >10 librairies les plus utilisées en Python pour la data Science
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/post/collecte-de-donn-es-mobile/"
    
  >Introduction à la collecte de données mobile
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/post/10-packages-les-plus-utilis-s-en-r-pour-la-data-science/"
    
  >10 Packages les plus utilisés en R pour la Data Science
    </a>
              
            </li></ul>
      </div></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/teaching/"
    
  >Formations
        <span data-hb-sidebar-toggle>
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg>
        </span>
    </a><div class="ltr:pr-0 overflow-hidden">
        <ul class="hb-sidebar-list"><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/teaching/data_analysis_spss/"
    
  >Analyse de données avec SPSS
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/teaching/data_collection_kobo/"
    
  >Collecte de données mobile :Application avec ODK Collect et KOBO Collect
    </a>
              
            </li></ul>
      </div></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/"
    
  >Projects
        <span data-hb-sidebar-toggle>
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg>
        </span>
    </a><div class="ltr:pr-0 overflow-hidden">
        <ul class="hb-sidebar-list"><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/file_convertor/"
    
  >Convertisseur des fichiers
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/qrcode_generator/"
    
  >Générateur des QRcode
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/data_collection_monitoring/"
    
  >Monitoring de la collecte de données
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/project/activity_tracking/"
    
  >Tracking des activités de terrain
    </a>
              
            </li></ul>
      </div></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/projects/"
    
  >Projects
    </a></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/experience/"
    
  >Expérience
    </a></li>
        <li class=""><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/publication/"
    
  >Publications
        <span data-hb-sidebar-toggle>
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"></path></svg>
        </span>
    </a><div class="ltr:pr-0 overflow-hidden">
        <ul class="hb-sidebar-list"><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/publication/preprint/"
    
  >An example preprint / working paper
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/publication/journal-article/"
    
  >An example journal article
    </a>
              
            </li><li class="flex flex-col "><a
    class="hb-sidebar-custom-link
      text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50"
    href="/publication/conference-paper/"
    
  >An example conference paper
    </a>
              
            </li></ul>
      </div></li>
    </ul>

    <div class="max-xl:hidden h-0 w-64 shrink-0"></div></div>

</aside>
  

<nav class="hb-toc order-last hidden w-64 shrink-0 xl:block print:hidden px-4" aria-label="table of contents">
  











  <div class="hb-scrollbar text-sm [hyphens:auto] sticky top-16 overflow-y-auto pr-4 pt-6 max-h-[calc(100vh-var(--navbar-height)-env(safe-area-inset-bottom))] -mr-4 rtl:-ml-4"><p class="mb-4 font-semibold tracking-tight">On this page</p><ul>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#introduction">Introduction</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#cest-quoi-une-api">C’est quoi une API</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#api-en-machine-learning">API en Machine Learning</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#avantage-dune-api-en-machine-learning">Avantage d’une API en Machine Learning</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#cr%c3%a9ation-dune-api-avec-plumber">Création d’une API avec plumber</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#avant-de-commencer--le-mod%c3%a8le-est-il-pr%c3%aat-">Avant de commencer : le modèle est-il prêt ?</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#cr%c3%a9ation-de-lapi">Création de l’API</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#1-chargement-des-biblioth%c3%a8ques">1. Chargement des bibliothèques</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#2-chargement-du-mod%c3%a8le">2. Chargement du modèle</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#3-documentation-de-lapi">3. Documentation de l’API</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#4-d%c3%a9finition-des-param%c3%a8tres-de-lapi">4. Définition des paramètres de l’API</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#5-route-de-pr%c3%a9diction-de-lapi">5. Route de prédiction de l’API</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#6-tester-lapi">6. Tester l’API</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-8 rtl:pr-8 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#7-d%c3%a9ploiement-de-lapi">7. Déploiement de l’API</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#71-en-local">7.1. En local</a>
      </li>
      <li class="my-2 scroll-my-6 scroll-py-6">
        <a class="pl-12 rtl:pr-12 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href="#72-dans-le-cloud">7.2. Dans le cloud</a>
      </li></ul>

  
  



    












  </div>
  </nav>


  <article class="w-full break-words flex min-h-[calc(100vh-var(--navbar-height))] min-w-0 justify-center pb-8 pr-[calc(env(safe-area-inset-right)-1.5rem)]">
    <main class="w-full min-w-0 max-w-6xl px-6 pt-4 md:px-12">

      

      <h1 class="mt-2 text-4xl font-bold tracking-tight text-slate-900 dark:text-slate-100">Déployer son modèle de Machine Learning sous forme d&#39;API plumber dans R : Part. 1</h1>

      <div class="mt-4 mb-16">
      <div class="text-gray-500 dark:text-gray-300 text-sm flex items-center flex-wrap gap-y-2"><span class="mr-1">23 Oct, 2024</span>
        

        
        <span class="mx-1">·</span>
        <span class="mx-1">
          7 min read
        </span>
        
        </div>

        <div class="mt-3">
          





        </div>
      </div>



      
      
      
      
      

      
      
      
      
      
      
      
      
      
      
      <div class="article-header article-container featured-image-wrapper mt-4 mb-16" style="max-width: 720px; max-height: 463px;">
        <div style="position: relative">
          <img src="/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/featured_hu14588139770028399185.webp" width="720" height="463" alt="" class="featured-image">
          
        </div>
      </div>
      

      
      

      <div class="prose prose-slate lg:prose-xl dark:prose-invert">
        <p>Mbote!</p>
<h2 id="introduction">Introduction</h2>
<p>Dans cet article, nous allons explorer comment déployer un modèle de machine learning sous forme d&rsquo;API à l&rsquo;aide de plumber, un package R simple et puissant. De plus en plus de projets de machine learning passent de simples expérimentations en laboratoire à des solutions robustes et prêtes pour la production. Cela nécessite une intégration fluide entre les modèles et les systèmes existants, souvent via une interface de programmation d&rsquo;application (API). Cette première partie vous guidera à dans la conception de l&rsquo;API. Dans la seconde partie, nous verrons comment faire appel à l&rsquo;API au sein d&rsquo;une application Rshiny.</p>
<h2 id="cest-quoi-une-api">C&rsquo;est quoi une API</h2>
<p>Une API (Application Programming Interface) est une interface qui permet à des logiciels différents de communiquer entre eux. Dans le cadre du développement web ou logiciel, une API permet à une application de demander des données ou des services à une autre application, souvent via des requêtes HTTP. L&rsquo;API reçoit une requête, effectue le traitement nécessaire (qui peut inclure la validation, la récupération ou le calcul des données), et renvoie une réponse au format approprié, souvent en JSON ou XML.</p>
<h3 id="api-en-machine-learning">API en Machine Learning</h3>
<p>Dans le contexte du machine learning, une API permet d&rsquo;exposer un modèle d&rsquo;apprentissage automatique pour qu&rsquo;il puisse être utilisé par des systèmes externes. Cela signifie que plutôt que de charger un modèle localement à chaque fois que tu veux l&rsquo;utiliser, tu le rends accessible via une API. Les applications peuvent alors envoyer des données à l&rsquo;API, qui fait des prédictions ou des classifications en temps réel et renvoie les résultats.</p>
<p>Par exemple, tu peux déployer un modèle de prédiction des prix immobiliers. Une API permettrait à une application externe (comme un site web ou une application mobile) d&rsquo;envoyer des caractéristiques d&rsquo;un bien immobilier (surface, nombre de chambres, localisation) et de recevoir instantanément une estimation de son prix grâce au modèle.</p>
<h3 id="avantage-dune-api-en-machine-learning">Avantage d&rsquo;une API en Machine Learning</h3>
<ol>
<li>
<p>Accès centralisé : Une API permet de rendre un modèle accessible à plusieurs utilisateurs ou systèmes, sans qu&rsquo;ils aient besoin d&rsquo;avoir accès au code source du modèle ou de savoir comment il fonctionne en interne.</p>
</li>
<li>
<p>Mise à jour facile : Lorsqu&rsquo;un modèle est amélioré, il suffit de le redéployer via l&rsquo;API. Toutes les applications utilisant l&rsquo;API auront immédiatement accès à la version la plus récente du modèle.</p>
</li>
<li>
<p>Scalabilité : Une API peut gérer des requêtes simultanées venant de multiples utilisateurs, ce qui permet de faire évoluer ton modèle pour répondre à une demande croissante.</p>
</li>
<li>
<p>Séparation des responsabilités : En séparant la logique du modèle des applications clientes, il devient plus facile de maintenir et de mettre à jour les deux indépendamment. Les développeurs peuvent se concentrer sur l&rsquo;amélioration des performances du modèle, tandis que les développeurs front-end peuvent se concentrer sur l&rsquo;interface utilisateur.</p>
</li>
<li>
<p>Interopérabilité : Grâce à une API, ton modèle peut être utilisé dans des environnements variés (applications web, applications mobiles, autres services logiciels), indépendamment des langages ou des technologies utilisées par ces systèmes.</p>
</li>
</ol>
<h2 id="création-dune-api-avec-plumber">Création d&rsquo;une API avec plumber</h2>
<p>Dans ce qui suit, nous allons voir étape par étape la construction de notre API. Que fera donc notre API ? L&rsquo;API que nous créons va consister à faire la classification d&rsquo;espèce de fleurs Iris. On parle de classification lorsque la variable d&rsquo;intérêt est catégorielle, &ldquo;setosa&rdquo;, &ldquo;versicolor&rdquo; et &ldquo;virginica&rdquo; pour notre cas. Nous allons utiliser les variables numériques comme prédicteurs : &ldquo;Sepal.Length&rdquo;, &ldquo;Sepal.Width&rdquo;, &ldquo;Petal.Length&rdquo; et &ldquo;Petal.Width&rdquo;. Pour plus d&rsquo;infos sur fichier de données, taper <code>?iris</code> sur la console R.</p>
<h3 id="avant-de-commencer--le-modèle-est-il-prêt-">Avant de commencer : le modèle est-il prêt ?</h3>
<p>Avant de déployer votre modèle, vous devez vous assurer qu&rsquo;il a été bien entrainé et qu&rsquo;il est prêt pour le déploiement. Dans le cadre de cet article, nous ne verrons pas le processus de création de notre modèle. Mais il est important de savoir que nous avons utilisé un modèle de forêts aléatoires du package <code>randomForest</code> et la fonction du même nom pour prédire l&rsquo;espèce de fleur.</p>
<h3 id="création-de-lapi">Création de l&rsquo;API</h3>
<p>Une API plumber est simplement un script R avec des commentaires spéciaux (#*).</p>
<p>Pour commencer, créez un script R et nommez-le plumber (vous pourrez choisir un autre nom pour vos projets). Dans ce script, nous allons ajouter des lignes de code au fur et à mesure qu&rsquo;on avance.</p>
<h4 id="1-chargement-des-bibliothèques">1. Chargement des bibliothèques</h4>
<p>Commencez par charger les packages. S&rsquo;ils ne sont pas encore installés, faites <code>intall.packages(&quot;nom_du_package&quot;)</code> pour installer.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># Chargement des packages</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">plumber</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">randomForest</span><span class="p">)</span>
</span></span></code></pre></div><p>Ces lignes chargent les bibliothèques <code>plumber</code> et <code>randomForest</code>. <code>plumber</code> est utilisé pour créer l&rsquo;API, tandis que <code>randomForest</code> est utilisé pour charger et utiliser le modèle prédictif.</p>
<h4 id="2-chargement-du-modèle">2. Chargement du modèle</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># Chargement du modèle</span>
</span></span><span class="line"><span class="cl"><span class="n">model</span> <span class="o">&lt;-</span> <span class="nf">readRDS</span><span class="p">(</span><span class="s">&#34;rand_forest.rds&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Cette ligne charge un modèle Random Forest préalablement entraîné à partir d&rsquo;un fichier RDS. Le modèle est ensuite stocké dans la variable model. <a href="https://www.github.com/bervelin-lumesa" target="_blank" rel="noopener">Vous pouvez téléchager ce fichier à partir d&rsquo;ici</a>.</p>
<h4 id="3-documentation-de-lapi">3. Documentation de l&rsquo;API</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">#* @apiTitle Species prediction API</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @apiDescription This API is based on Iris Data and uses characteristics such as Sepal.Length, Petal.Width to predict Species </span>
</span></span></code></pre></div><p>Ces lignes sont des commentaires spéciaux utilisés par <code>plumber</code> pour documenter l&rsquo;API. @apiTitle et @apiDescription fournissent le titre et la description de l&rsquo;API.</p>
<h4 id="4-définition-des-paramètres-de-lapi">4. Définition des paramètres de l&rsquo;API</h4>
<p>Avant que notre modèle fasse une prédiction, il doit récevoir une entrée constituée des valeurs des variables prédictrices. Elles seront passées au modèle sous forme de paramètres.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">#* @param Sepal_Length</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @param Sepal_Width</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @param Petal_Length</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @param Petal_Width</span>
</span></span></code></pre></div><p>Ces lignes définissent les paramètres que l&rsquo;API attend dans la requête POST. Chaque paramètre représente une caractéristique des fleurs Iris.</p>
<h4 id="5-route-de-prédiction-de-lapi">5. Route de prédiction de l&rsquo;API</h4>
<p>Les lignes suivantes définissent une fonction qui qui réalise la prédiction.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">#* @post /species-predict</span>
</span></span><span class="line"><span class="cl"><span class="kr">function</span><span class="p">(</span><span class="n">Sepal_Length</span><span class="p">,</span> <span class="n">Sepal_Width</span><span class="p">,</span> <span class="n">Petal_Length</span><span class="p">,</span> <span class="n">Petal_Width</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">df</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">Sepal.Length</span> <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Sepal_Length</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">Sepal.Width</span>  <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Sepal_Width</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">Petal.Length</span> <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Petal_Length</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">Petal.Width</span>  <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Petal_Width</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">predict</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">newdata</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ul>
<li>
<p>Route de l&rsquo;API (@post /species-predict) : Définit une route POST à l&rsquo;URL /species-predict pour la prédiction des espèces. La route POST permet d&rsquo;envoyer une réquête à l&rsquo;API pour effectuer des cacluls.</p>
</li>
<li>
<p>Fonction de prédiction : La fonction prend les paramètres Sepal_Length, Sepal_Width, Petal_Length et Petal_Width de la requête POST, crée un data.frame avec ces valeurs, puis utilise le modèle pour prédire l&rsquo;espèce de la fleur.</p>
</li>
</ul>
<p>Le code complet est :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">plumber</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">randomForest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">model</span> <span class="o">&lt;-</span> <span class="nf">readRDS</span><span class="p">(</span><span class="s">&#34;rand_forest.rds&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#* @apiTitle API de prédiction d&#39;espèce Iris</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @apiDescription Cette API est basée sur un modèle de forêts </span>
</span></span><span class="line"><span class="cl"><span class="c1">#* aléatoires entraîné avec les données Iris pour prédire l&#39;espèce de fleur. </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#* Return the prediction</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @param Sepal_Length</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @param Sepal_Width</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @param Petal_Length</span>
</span></span><span class="line"><span class="cl"><span class="c1">#* @param Petal_Width</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#* @post /species-predict</span>
</span></span><span class="line"><span class="cl"><span class="kr">function</span><span class="p">(</span><span class="n">Sepal_Length</span><span class="p">,</span> <span class="n">Sepal_Width</span><span class="p">,</span> <span class="n">Petal_Length</span><span class="p">,</span> <span class="n">Petal_Width</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="n">df</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">Sepal.Length</span> <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Sepal_Length</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">Sepal.Width</span>  <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Sepal_Width</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">Petal.Length</span> <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Petal_Length</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">Petal.Width</span>  <span class="o">=</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="n">Petal_Width</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nf">predict</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">newdata</span> <span class="o">=</span> <span class="n">df</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="6-tester-lapi">6. Tester l&rsquo;API</h4>
<p>Pour lancer l&rsquo;application, il suffit de cliquer sur Run API de votre script R. Vous obtiendrez alors l&rsquo;image ci-apris :</p>
<p>















<figure  >
  <div class="flex justify-center	">
    <div class="w-100" ><img alt="" srcset="
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_launch_hu8493050959840598717.webp 400w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_launch_hu7393750840076277384.webp 760w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_launch_hu9310991566288688320.webp 1200w"
               src="/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_launch_hu8493050959840598717.webp"
               width="753"
               height="724"
               loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>Pour accéder à la route POST où se trouve notre modèle, cliquez sur POST. Cela affiche les différents paramètres d&rsquo;entré du modèle. POur povoir introduire les valeurs de chaque paramètres, il suffit de cliquer sur &ldquo;Try it out&rdquo;.</p>
<p>















<figure  >
  <div class="flex justify-center	">
    <div class="w-100" ><img alt="" srcset="
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_try_hu7030037255276172535.webp 400w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_try_hu3512270688528333852.webp 760w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_try_hu4224048342392235076.webp 1200w"
               src="/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_try_hu7030037255276172535.webp"
               width="725"
               height="760"
               loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>L&rsquo;image ci-après donne un exemple de remplissage pour chaque paramètre. Après remplissagen cliquez sur &ldquo;Execute&rdquo; pour obtenir la prédiction.</p>
<p>















<figure  >
  <div class="flex justify-center	">
    <div class="w-100" ><img alt="" srcset="
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_execute_hu10014703404091596422.webp 400w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_execute_hu17481521457736681992.webp 760w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_execute_hu4927048825156180565.webp 1200w"
               src="/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_execute_hu10014703404091596422.webp"
               width="652"
               height="760"
               loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>L&rsquo;image ci-après donne la prédiction du modèle en fonction des valeurs introduites dans l&rsquo;image précéédente. On peut voir de l&rsquo;image que nous avons obtenu le code 200, qui correspond à une réussite de notre réquête et l&rsquo;espèce prédite &ldquo;virginica&rdquo; dans &ldquo;Response body&rdquo;.</p>
<p>















<figure  >
  <div class="flex justify-center	">
    <div class="w-100" ><img alt="" srcset="
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_result_hu3103895898770560650.webp 400w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_result_hu3609917413591751982.webp 760w,
               /post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_result_hu2934044657196519108.webp 1200w"
               src="/post/deployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1/api_result_hu3103895898770560650.webp"
               width="760"
               height="739"
               loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<h4 id="7-déploiement-de-lapi">7. Déploiement de l&rsquo;API</h4>
<p>Dans le cadre de cet article, nous allons nous limiter au déploiement en local et nous fournirons des pistes de solutions pour le déploiement dans le cloud.</p>
<h5 id="71-en-local">7.1. En local</h5>
<p>Comme vous l&rsquo;aurez remarquer, l&rsquo;hôte (la partie de l&rsquo;URL juste après http:// et avant :) et le port (les quatre chiffres après :) de l&rsquo;API ne sont pas fixes, mais peuvent se modifier du fil d&rsquo;exécution. R a la solution à cela.</p>
<p>Créez un autre script R et y ajoutez les commandes suivantes :</p>
<p>Ces lignes permettent d&rsquo;exécuter notre API à partir d&rsquo;un autre script, de fixer l&rsquo;hôte et le port.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">pr</span> <span class="o">&lt;-</span> <span class="n">plumber</span><span class="o">::</span><span class="nf">plumb</span><span class="p">(</span><span class="s">&#34;plumber.R&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pr</span><span class="o">$</span><span class="nf">run</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="s">&#34;127.0.1.1&#34;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="m">8080</span><span class="p">)</span>
</span></span></code></pre></div><p>Vous pouvez alors lancer votre, de préférence en arrière-plan, à l&rsquo;aide Background Jobs de Rstudio. Cela permet de faire tourner l&rsquo;API dans paralyser la session en cours. Pour ce faire, cliquez sur &ldquo;Source&rdquo; &gt; &ldquo;Source as Background Jobs&rdquo; au coin supérieur droit de votre script.</p>
<h5 id="72-dans-le-cloud">7.2. Dans le cloud</h5>
<p>Il existe plusieurs possibilités pour déployer l&rsquo;API <code>plumber</code> dans le cloud. Ci-après quelques solutions:</p>
<ul>
<li>
<p>Solution 1</p>
</li>
<li>
<p>Solution 2</p>
</li>
</ul>
<p>Voici la suite de cet article : <a href="">Déployer son modèle de Machine Learning sous forme d&rsquo;&lsquo;API plumber dans R :
Part. 2</a></p>
<p>Tous les codes peuvent être trouvés ici dans mon <a href="">Github</a></p>

      </div>

      
  <time class="mt-12 mb-8 block text-xs text-gray-500 ltr:text-right rtl:text-left dark:text-gray-400" datetime="2024-10-23T00:00:00.000Z">
    <span>Last updated on</span>
    23 Oct, 2024</time>

      <div class="container mx-auto prose prose-slate lg:prose-xl dark:prose-invert mt-5">
        
        <div class="max-w-prose print:hidden">
  
  

  


  
<section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="https://twitter.com/intent/tweet?url=http%3A%2F%2Flocalhost%3A4321%2Fpost%2Fdeployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1%2F&amp;text=D%C3%A9ployer&#43;son&#43;mod%C3%A8le&#43;de&#43;Machine&#43;Learning&#43;sous&#43;forme&#43;d%27API&#43;plumber&#43;dans&#43;R&#43;%3A&#43;Part.&#43;1"
    title="X"
    aria-label="X"
    id="share-link-x"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
  </a>
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="https://www.facebook.com/sharer.php?u=http%3A%2F%2Flocalhost%3A4321%2Fpost%2Fdeployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1%2F&amp;t=D%C3%A9ployer&#43;son&#43;mod%C3%A8le&#43;de&#43;Machine&#43;Learning&#43;sous&#43;forme&#43;d%27API&#43;plumber&#43;dans&#43;R&#43;%3A&#43;Part.&#43;1"
    title="Facebook"
    aria-label="Facebook"
    id="share-link-facebook"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg>
  </a>
  

  
  
  
  
  
  
    
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="mailto:?subject=D%C3%A9ployer%20son%20mod%C3%A8le%20de%20Machine%20Learning%20sous%20forme%20d%27API%20plumber%20dans%20R%20%3A%20Part.%201&amp;body=http%3A%2F%2Flocalhost%3A4321%2Fpost%2Fdeployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1%2F"
    title="Email"
    aria-label="Email"
    id="share-link-email"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M16.5 12a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"/></svg>
  </a>
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="https://www.linkedin.com/shareArticle?url=http%3A%2F%2Flocalhost%3A4321%2Fpost%2Fdeployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1%2F&amp;title=D%C3%A9ployer&#43;son&#43;mod%C3%A8le&#43;de&#43;Machine&#43;Learning&#43;sous&#43;forme&#43;d%27API&#43;plumber&#43;dans&#43;R&#43;%3A&#43;Part.&#43;1"
    title="LinkedIn"
    aria-label="LinkedIn"
    id="share-link-linkedin"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
  </a>
  

  
  
  
  
  
  
  <a
    target="_blank" rel="noopener"
    class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
    href="whatsapp://send?text=D%C3%A9ployer&#43;son&#43;mod%C3%A8le&#43;de&#43;Machine&#43;Learning&#43;sous&#43;forme&#43;d%27API&#43;plumber&#43;dans&#43;R&#43;%3A&#43;Part.&#43;1%20http%3A%2F%2Flocalhost%3A4321%2Fpost%2Fdeployer-son-modele-de-machine-learning-sous-forme-d-api-plumber-dans-r-part-1%2F"
    title="WhatsApp"
    aria-label="WhatsApp"
    id="share-link-whatsapp"
  >
    <svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentColor"><path d="m187.58 144.84-32-16a8 8 0 0 0-8 .5l-14.69 9.8a40.55 40.55 0 0 1-16-16l9.8-14.69a8 8 0 0 0 .5-8l-16-32A8 8 0 0 0 104 64a40 40 0 0 0-40 40 88.1 88.1 0 0 0 88 88 40 40 0 0 0 40-40 8 8 0 0 0-4.42-7.16ZM152 176a72.08 72.08 0 0 1-72-72 24 24 0 0 1 19.29-23.54l11.48 23L101 118a8 8 0 0 0-.73 7.51 56.47 56.47 0 0 0 30.15 30.15A8 8 0 0 0 138 155l14.61-9.74 23 11.48A24 24 0 0 1 152 176ZM128 24a104 104 0 0 0-91.82 152.88l-11.35 34.05a16 16 0 0 0 20.24 20.24l34.05-11.35A104 104 0 1 0 128 24Zm0 192a87.87 87.87 0 0 1-44.06-11.81 8 8 0 0 0-6.54-.67L40 216l12.47-37.4a8 8 0 0 0-.66-6.54A88 88 0 1 1 128 216Z"/></svg>
  </a>
  
</section>


  








  
  



  
  
  
    
  
  
  

<div class="flex pt-12 pb-4">
  
  
  <img
    class="mr-4 h-24 w-24 rounded-full"
    width="96"
    height="96"
    alt="Bervelin Lumesa"
  src="/author/bervelin-lumesa/avatar_hu2872262108765497407.jpg"
  loading="lazy"
  />
  
  <div class="place-self-center">
    <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
      Authors
    </div>
    <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
      <a href="http://localhost:4321/" class="no-underline">
      Bervelin Lumesa
      </a>
    </div>

    
    <div class="text-sm font-bold text-neutral-700 dark:text-neutral-300">
    Statistician/Data Scientist
    </div>
    


    

    <div class="text-2xl sm:text-lg pt-1">

      
<div class="flex flex-wrap text-neutral-500 dark:text-neutral-300">
  
    
    
    
    
    <a
      class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
      style="will-change:transform;"
      href="mailto:lumesabervelin@gmail.com"
      
      aria-label="At-Symbol"
    ><svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M16.5 12a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"/></svg></a>
  
    
    
    
    
      
    
    <a
      class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
      style="will-change:transform;"
      href="https://github.com/bervelin-lumesa"
      target="_blank" rel="noopener" rel="me noopener noreferrer"
      aria-label="Brands/Github"
    ><svg style="height: 1em;" fill="currentColor" viewBox="3 3 18 18"><path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path></svg></a>
  
    
    
    
    
      
    
    <a
      class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400"
      style="will-change:transform;"
      href="https://www.linkedin.com/lumesabervelin"
      target="_blank" rel="noopener" rel="me noopener noreferrer"
      aria-label="Brands/Linkedin"
    ><svg style="height: 1em;" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></a>
  
</div>



    </div>
  </div>
</div>







  
  
    
    
    
      
      
    
<div class="pt-1 no-prose w-full">
  <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
  <div class="flex flex-col md:flex-row flex-nowrap justify-between gap-5 pt-2">
    <div class="">
      
    </div>
    <div class="">
      
        <a class="group flex text-right no-underline" href="/post/monitoring-de-la-collecte-de-donn-es-d-une-enqu-te-statistique/">
          <span class="flex flex-col">
            <span
              class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
            >Monitoring de la collecte de données d&#39;une enquête statistique</span
            >
            <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
              
                8 Sep, 2024
              
            </span>
          </span>
          <span
            class="mt-[-0.3rem] ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"
          ><span class="ltr:inline">&rarr;</span></span>
        </a>
      
    </div>
  </div>
</div>



  


  



</div>

      </div>

    </main>
  </article>
</div>

    </div>
    <div class="page-footer">
      <footer class="container mx-auto flex flex-col justify-items-center text-sm leading-6 mt-24 mb-4 text-slate-700 dark:text-slate-200">

  












  
  
  
  
  














  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by text-center">
    © 2024 Bervelin Lumesa.
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
        <i class="fab fa-creative-commons-nc fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-nd fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>





  <p class="powered-by text-center">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://hugoblox.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Hugo Blox Builder</a> — the free, <a href="https://github.com/HugoBlox/hugo-blox-builder" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>

</footer>

    </div>

    
    











  </body>
</html>
